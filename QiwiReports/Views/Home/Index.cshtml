@{
    Layout = null;
}
 
<html>
<head>
    <title>Ваган</title>
    <script src="../../Scripts/jquery.searchFilter.js" type="text/javascript"></script>
    <link href="../../Content/themes/base/all.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/jquery.jqGrid/ui.jqgrid.css" rel="stylesheet" type="text/css" />
    
    <script src="../../Scripts/jquery-2.1.1.js" type="text/javascript"></script>
    <script src="../../Scripts/jquery-2.1.1.min.js" type="text/javascript"></script>
    <script src="../../Scripts/jquery-ui-1.11.1.js" type="text/javascript"></script>
    <script src="../../Scripts/jquery-ui.min-1.11.1.js" type="text/javascript"></script>
    <script src="../../Scripts/jquery.jqGrid.min.js" type="text/javascript"></script>   
    <script src="../../Scripts/jquery.jqGrid.src.js" type="text/javascript"></script>
    <script src="../../Scripts/i18n/grid.locale-ru.js" type="text/javascript"></script>
    <link href="../../Content/jquery.jqGrid/searchFilter.css" rel="stylesheet" type="text/css" />
</head>
<body>
<h2>Список  </h2>
<table id="grps"></table>
<div id="pgrps"></div>

<script type="text/javascript">
    $(document).ready(function () {
        $("#grps").jqGrid({
            width: 1200,
            height: 600,
            url: '@Url.Action("GetData")',
            
            datatype: "json",
            colNames: ['Id', 'Квартира', 'Сумма', 'trm_id', 'trm_txn_id', 'Сумма 2', 'Телефон', 'Дата получения', 'Обработано'],
            colModel: [
        { name: 'txn_id', index: 'txn_id', width: 100, stype: 'text' },
        { name: 'account', index: 'account', width: 100 },
        { name: 'amount', index: 'amount', width: 150 },
        { name: 'trm_id', index: 'trm_txn_id', width: 100, align: "right" },
        { name: 'trm_txn_id', index: 'trm_txn_id', width: 200, align: "right" },
        { name: 'from_amount', index: 'from_amount', width: 100 },
        { name: 'account1', index: 'account1', width: 200 },
        { name: 'dateReceive', width: 200, sortable: true, formatter: "date", formatter: currencyFmatter},
        { name: 'IsComplete', index: 'IsComplete', width: 200, align: 'center' },
        ],

            rowNum: 100, // число отображаемых строк
            pager: '#pgrps',
            sortname: 'dateReceive', // сортировка по умолчанию по столбцу Id
            sortorder: "desc", // порядок сортировки
            loadonce: true, // загрузка только один раз
            //multiselect: true,
            rowList: [100, 200, 300],
            caption: "Список Книг",
           
            viewrecords: true
        });
        jQuery("#grps").jqGrid('navGrid', "#pgrps", {
 
        add: false,
        del: false,
        edit: false,
        search: true,
        searchtext: "Поиск",
        refresh: true,
        refreshtext: "Обновить"
    },

      {}, // default settings for edit
      {}, // default settings for add
      {}, // delete instead that del:false we need this
      {closeOnEscape:true, multipleSearch:true}, // search options
      {} /* view parameters*/     
    
    );
});


    function currencyFmatter(cellvalue, options, rowObject) {
        var y = Number(cellvalue.substring(0, 4));
        var m = Number(cellvalue.substring(5, 7));
        var d = cellvalue.substring(8, 10);
        var h = cellvalue.substring(11, 13);
        var mm = cellvalue.substring(14, 16);

        return String(d) + '/' + String(m) + '/' + String(y) + ' ' + String(h) + ':' + String(mm);

    }

    
</script> 
</body>
</html>